<% if user.errors.any? %>
    <div class="alert alert-block">
        <button type="button" class="close" data-dismiss="alert">&times;</button>
        <div id="error_explanation">
            <h4><%= pluralize(user.errors.count, "error") %> prohibited this post from being saved:</h4>

            <ul>
            <% user.errors.full_messages.each do |msg| %>
                <li><%= msg %></li>
            <% end %>
            </ul>
        </div>
    </div>
<% end %>
<%= form_for(user, :url => {:action => action}, :html => {:class => 'form-horizontal'} ) do |f| %>    
    <fieldset>                
        <!-- Name -->
        <div class="control-group">
            <%= f.label "First Name",:class => "control-label" %>
            <div class="controls">
                <%= f.text_field :first_name, :class =>"input-xlarge", :required => "required" %>
            </div>
        </div>
        
        <div class="control-group">
            <%= f.label "Last Name",:class => "control-label" %>
            <div class="controls">
                <%= f.text_field :last_name, :class =>"input-xlarge", :required => "required" %>
            </div>
        </div>

        <div class="control-group">
            <%= f.label "Role",:class => "control-label" %>
            <div class="controls">
                <%= f.select(:role_id, options_for_select(@roles.collect {|p| [p.name,p.id] }, "Select Role")) %>
            </div>
        </div>

        <div class="control-group">
            <%= f.label "Gender",:class => "control-label" %>
            <div class="controls">
                <%= f.select(:sex, options_for_select(["Female", "Male"].collect {|p| [p] }, "Select Gender")) %>
            </div>
        </div>

        <div class="control-group">
            <%= f.label "Phone Number",:class => "control-label" %>
            <div class="controls">
                <%= f.text_field :phone_number, :class =>"input-xlarge", :required => "required" %>
            </div>
        </div>

        <div class="control-group">
            <%= f.label "Email",:class => "control-label" %>
            <div class="controls">
                <%= f.text_field :email, :class =>"input-xlarge", :required => "required" %>
            </div>
        </div>

        <div class="control-group">
            <%= f.label "Cast/Ethnicity",:class => "control-label" %>
            <div class="controls">
                <%= f.text_field :cast_ethnicity, :class =>"input-xlarge", :required => "required" %>
            </div>
        </div>
        
        <div class="control-group">
            <%= f.label "Date of birth",:class => "control-label" %>
            <div class="controls">
                <%= f.text_field :date_of_birth, :class =>"datepicker", :required => "required" %>      
            </div>
        </div> 
        
        <div class="control-group">
            <%= f.label "Address",:class => "control-label" %>
            <div class="controls">
                <%= f.text_area :address, :class =>"input-xlarge", :required => "required" %>
            </div>
        </div>

        <div class="control-group">
            <%= f.label :password, :class => "control-label" %>
            <div class="controls">
                <%= f.password_field :password, :class =>"input-xlarge", :required => "required" %>
            </div>
        </div>
        
        <div class="control-group">
            <%= f.label :password_confirmation, :class => "control-label" %>
            <div class="controls">
                <%= f.password_field :password_confirmation, :class =>"input-xlarge", :required => "required" %>
            </div>
        </div>
        
        <!-- Submit -->
        <div class="control-group">
            <div class="controls">
                <button class="btn btn-success">Save</button>
                <%=link_to "Cancel", users_path, :class => "btn" %>
            </div>
        </div>
    </fieldset>
<% end %>
<script>
    $('.datepicker').datepicker({format: 'yyyy-mm-dd'})
</script>